<sdf version="1.4">
  <model name="conveyor_belt">

    <!-- Fixed Base -->
    <model name="conveyorbelt_fixed">
      <static>1</static>

      <link name="belt_visual">
        <visual name="visual">
          <geometry>
            <mesh>
              <scale>1.5 1.5 1.5</scale>
              <uri>model://conveyor_belt/meshes/conveyor_belt.dae</uri>
            </mesh>
          </geometry>
        </visual>

        <collision name="collision">
          <geometry>
            <mesh>
              <scale>1.5 1.5 1.5</scale>
              <uri>model://conveyor_belt/meshes/conveyor_belt.dae</uri>
            </mesh>
          </geometry>
        </collision>
      </link>
    </model>

    <!-- Moving Belt -->
    <model name="conveyorbelt_moving">
      <static>false</static>
      <allow_auto_disable>0</allow_auto_disable>
      <pose>0 0 1.1115 0 0 0</pose> <!-- z = 0.741 * 1.5 -->

      <link name="belt_moving">
        <inertial>
          <mass>150.0</mass> <!-- Increased mass -->
          <inertia>
            <ixx>0.0</ixx>
            <ixy>0.0</ixy>
            <ixz>0.0</ixz>
            <iyy>0.0</iyy>
            <iyz>0.0</iyz>
            <izz>0.0</izz>
          </inertia>
        </inertial>

        <collision name="belt_collision">
          <geometry>
            <box>
              <size>0.6375 1.8 0.000015</size> <!-- 1.5x original 0.425 x 1.2 x 0.00001 -->
            </box>
          </geometry>
          <surface>
            <friction>
              <ode>
                <mu>100.0</mu>
                <mu2>100.0</mu2>
              </ode>
              <torsional>
                <coefficient>1000.0</coefficient>
                <patch_radius>0.15</patch_radius> <!-- 1.5x -->
              </torsional>
            </friction>
          </surface>
        </collision>
      </link>
    </model>

    <!-- Joint -->
    <joint name="belt_joint" type="prismatic">
      <parent>conveyorbelt_fixed::belt_visual</parent>
      <child>conveyorbelt_moving::belt_moving</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>0.0</lower>
          <upper>0.015</upper> <!-- 1.5x movement -->
        </limit>
      </axis>
    </joint>

    <!-- Plugin -->
    <plugin name="ros2_conveyorbelt_plugin" filename="libros2_conveyorbelt_plugin.so">
      <ros>
        <namespace></namespace>
      </ros>
      <max_velocity>1.0</max_velocity>
      <publish_rate>1000</publish_rate>
    </plugin>

  </model>
</sdf>

